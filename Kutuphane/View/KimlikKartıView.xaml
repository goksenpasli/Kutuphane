<UserControl x:Class="Kutuphane.View.KimlikKartıView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:local="clr-namespace:Kutuphane.View"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:model="clr-namespace:Kutuphane.Model" xmlns:properties="clr-namespace:Kutuphane.Properties"
    xmlns:viewmodel="clr-namespace:Kutuphane.ViewModel"
    d:DataContext="{d:DesignInstance Type=model:Kişi}"
    d:DesignHeight="210" d:DesignWidth="380" UseLayoutRounding="True"
    mc:Ignorable="d">
    <GroupBox Grid.Row="1" Grid.Column="1">
        <GroupBox.Header>
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="KİMLİK KARTI" VerticalAlignment="Center" />
                <ComboBox x:Name="Cb"
                    ItemsSource="{Binding Mode=OneWay, Source={StaticResource ColorList}}"
                    ItemTemplate="{StaticResource ColorItemTemplate}"
                    ItemsPanel="{StaticResource ColorPanelTemplate}"
                    SelectedValue="{Binding KimlikYazıRenk, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    SelectedValuePath="Name" />
            </StackPanel>
        </GroupBox.Header>
        <Grid Width="10cm" HorizontalAlignment="Left">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <FlowDocumentScrollViewer x:Name="Fd" VerticalScrollBarVisibility="Disabled">
                <FlowDocument FontSize="16" FontFamily="Times New Roman"
                    Block.LineHeight="1" Language="tr-tr" PagePadding="0">
                    <FlowDocument.Background>
                        <ImageBrush ImageSource="{Binding Path=KimlikArkaPlanResim, Mode=OneWay, Converter={StaticResource DataImageFilePathImageUriConverter}, UpdateSourceTrigger=PropertyChanged, Source={x:Static properties:Settings.Default}}" />
                    </FlowDocument.Background>
                    <FlowDocument.Resources>
                        <Style TargetType="Run">
                            <Setter Property="Foreground" Value="{Binding KimlikYazıRenk}" />
                        </Style>
                        <Style TargetType="{x:Type TableCell}">
                            <Setter Property="BorderBrush" Value="Black" />
                            <Setter Property="BorderThickness" Value="0.5pt" />
                        </Style>
                    </FlowDocument.Resources>
                    <Table CellSpacing="0">
                        <Table.Columns>
                            <TableColumn Width="100" />
                            <TableColumn Width="180" />
                            <TableColumn Width="97" />
                        </Table.Columns>
                        <TableRowGroup>
                            <TableRow>
                                <TableCell ColumnSpan="3">
                                    <Paragraph TextAlignment="Center">
                                        <Run Text="KİMLİK KARTI" FontWeight="Bold" />
                                    </Paragraph>
                                </TableCell>
                            </TableRow>
                            <TableRow>
                                <TableCell>
                                    <Paragraph>
                                        <Run Text="AD" FontWeight="Bold" />
                                    </Paragraph>
                                </TableCell>
                                <TableCell>
                                    <Paragraph>
                                        <Run Text="{Binding Ad}" />
                                    </Paragraph>
                                </TableCell>
                                <TableCell RowSpan="4">
                                    <BlockUIContainer>
                                        <viewmodel:ShadowedImage Width="70" Height="110"
                                            ShowShadow="True"
                                            Source="{Binding Resim, Converter={StaticResource LocalDataImageFilePathImageUriConverter}}" />
                                    </BlockUIContainer>
                                </TableCell>
                            </TableRow>
                            <TableRow>
                                <TableCell>
                                    <Paragraph>
                                        <Run Text="SOYAD" FontWeight="Bold" />
                                    </Paragraph>
                                </TableCell>
                                <TableCell>
                                    <Paragraph>
                                        <Run Text="{Binding Soyad}" />
                                    </Paragraph>
                                </TableCell>
                            </TableRow>
                            <TableRow>
                                <TableCell>
                                    <Paragraph>
                                        <Run Text="TC KİMLİK" FontWeight="Bold" />
                                    </Paragraph>
                                </TableCell>
                                <TableCell>
                                    <Paragraph>
                                        <Run Text="{Binding TC}" />
                                    </Paragraph>
                                </TableCell>
                            </TableRow>
                            <TableRow>
                                <TableCell Padding="0,15,0,0">
                                    <Paragraph>
                                        <Run Text="TC BARKOD" FontWeight="Bold" />
                                    </Paragraph>
                                </TableCell>
                                <TableCell Padding="0,10">
                                    <BlockUIContainer>
                                        <Image Height="32" Source="{Binding TC, Converter={StaticResource StringToBarCodeImageConverter}}" />
                                    </BlockUIContainer>
                                </TableCell>
                            </TableRow>
                        </TableRowGroup>
                    </Table>
                </FlowDocument>
            </FlowDocumentScrollViewer>
            <Button Grid.Row="2" Command="{Binding QrCodeViewModel.KareKodYazdır, Mode=OneWay, Source={StaticResource MainViewModel}}" CommandParameter="{Binding ElementName=Fd}">
                <StackPanel Orientation="Horizontal">
                    <Image Width="32" Height="32">
                        <Image.Source>
                            <MultiBinding Converter="{StaticResource SystemFileIconConverter}">
                                <Binding Source="Shell32.dll" />
                                <Binding Source="136" />
                            </MultiBinding>
                        </Image.Source>
                    </Image>
                    <TextBlock Text="YAZDIR" VerticalAlignment="Center" />
                </StackPanel>
            </Button>
        </Grid>
    </GroupBox>
</UserControl>
